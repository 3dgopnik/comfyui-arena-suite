# üåç Global Rules

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö –∫–æ–¥–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∞–≥–µ–Ω—Ç–æ–≤ –∏ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üö® –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ü–†–ê–í–ò–õ–ê (—Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ)

### –°–æ–∑–¥–∞–Ω–∏–µ Issue –ø–æ—Å–ª–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏
**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ü–æ—Å–ª–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏ –≤ —á–∞—Ç–µ –∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:
1. **–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è Issue –≤ —á–∞—Ç–µ** —Å –≤–≤–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ + –ª–æ–≥ (–µ—Å–ª–∏ –µ—Å—Ç—å)
2. **–ñ–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º Issue
3. **–°–æ–∑–¥–∞—Ç—å Issue** —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Issue –¥–ª—è –≤—Å–µ–π –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã** - –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–µ–º

**–ü—Ä–∏–º–µ—Ä –≤ —á–∞—Ç–µ:**
```
üìã –ü—Ä–µ–¥–ª–∞–≥–∞—é —Å–æ–∑–¥–∞—Ç—å Issue —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º:

**Title:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è ArenaAutoCache

**Description:**
- **–ó–∞–¥–∞—á–∞:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É `_copy_into_cache_lru() missing 1 required positional argument: 'category'`
- **–õ–æ–≥ –æ—à–∏–±–∫–∏:** 
```
[ArenaAutoCache] ERROR: _copy_into_cache_lru() missing 1 required positional argument: 'category'
```
- **–®–∞–≥–∏:** 1) –ù–∞–π—Ç–∏ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–∏ 2) –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã 3) –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

–°–æ–∑–¥–∞—Ç—å Issue? (–¥–∞/–Ω–µ—Ç)
```

### –°–æ–∑–¥–∞–Ω–∏–µ PR –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ –∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:
1. **–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è PR –≤ —á–∞—Ç–µ** —Å Summary, Changes, Docs, Changelog, Test Plan
2. **–ñ–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º PR
3. **–°–æ–∑–¥–∞—Ç—å PR** —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
4. **–°–≤—è–∑–∞—Ç—å PR —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º Issue** (`Closes #–Ω–æ–º–µ—Ä`)

**–ü—Ä–∏–º–µ—Ä –≤ —á–∞—Ç–µ:**
```
üöÄ –ü—Ä–µ–¥–ª–∞–≥–∞—é —Å–æ–∑–¥–∞—Ç—å PR —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º:

**Title:** fix: –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É _copy_into_cache_lru missing argument

**Summary:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è ArenaAutoCache

**Changes:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã _copy_into_cache_lru() –≤ _cache_models_with_progress()
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –¥–æ ArenaAutoCacheSmart v2.17
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**Docs:** –û–±–Ω–æ–≤–ª–µ–Ω CHANGELOG.md

**Test Plan:** 
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow —Å ArenaAutoCacheSmart v2.17
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
3. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

–°–æ–∑–¥–∞—Ç—å PR? (–¥–∞/–Ω–µ—Ç)
```

## –û–±—â–µ–Ω–∏–µ
- –í—Å–µ –∑–∞–¥–∞—á–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ö–æ–¥ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ –ø–∏—Å–∞—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–µ—Å—Ç–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Å–Ω–æ–≤–Ω–∞—è) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å
- **–û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ = –æ–¥–∏–Ω —á–∞—Ç = –æ–¥–∏–Ω Issue** –≤ GitHub
- **–ê–≥–µ–Ω—Ç —Å–∞–º —Å–æ–∑–¥–∞–µ—Ç Issue** –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- **–ê–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç PR —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –≤—Å–µ–≥–¥–∞ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º PR
- –í—Å–µ —à–∞–≥–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ª–æ–≥–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö Issue
- –ù–æ–≤–∞—è —Ü–µ–ª—å ‚Üí –Ω–æ–≤—ã–π —á–∞—Ç –∏ –Ω–æ–≤—ã–π Issue
- –ö–æ–º–º–∏—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏

## Pull Requests
- **–ê–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç PR —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –≤—Å–µ–≥–¥–∞ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º PR
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Pull Request
- PR –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É Issue (`Closes #–Ω–æ–º–µ—Ä`)
- –í PR –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å:
  * **Summary** ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏
  * **Changes** ‚Äî —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  * **Docs** ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  * **Changelog** ‚Äî –∑–∞–ø–∏—Å—å –≤ `[Unreleased]`
  * **Test Plan** ‚Äî —à–∞–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ë–µ–∑ –∑–µ–ª—ë–Ω–æ–≥–æ CI PR –Ω–µ –º–µ—Ä–∂–∏—Ç—Å—è

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ `CHANGELOG.md` (—Ñ–æ—Ä–º–∞—Ç Keep a Changelog + SemVer)
- `ROADMAP.md` ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- `docs/ru/nodes/` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–¥
- `docs/examples/` ‚Äî –ø—Ä–∏–º–µ—Ä—ã
- `docs/migration.md` ‚Äî –ø—Ä–∏ breaking changes
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º –≤ —Ç–æ–º –∂–µ PR

## –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞
- –ü—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –≤ Issue –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞—Ç—å **—Ñ—Ä–∞–≥–º–µ–Ω—Ç –ª–æ–≥–∞ –æ—à–∏–±–∫–∏**
- –õ–æ–≥ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á—ë–Ω –∞–≥–µ–Ω—Ç–æ–º –∏–∑ –ø—É—Ç–µ–π, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ Project Rules
- –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å:
  * —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ stack trace
  * –¥–∞—Ç—É/—à–∞–≥ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è
  * —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## Safety & Privacy
- Do not include secrets, API keys, or personal data in the repo
- Avoid collecting or storing user-identifying information unless strictly required and documented
- Follow platform ToS and license terms for any external API or model

## Content Restrictions
- No illegal, hateful, or disallowed content. Keep examples and tests safe and neutral

## Dependencies
- Prefer minimal, well-maintained dependencies. Document new ones in PRs
- Pin only when necessary (e.g., to avoid known regressions) and explain why in the PR

## Testing
- Add or update tests under `tests/` for meaningful changes
- Ensure CI remains green

## Git and Releases
- Use conventional, descriptive commit messages
- Update `CHANGELOG.md` under `[Unreleased]` for user-visible changes

## Code Maintenance
- Run `read_lints` after any code changes to catch syntax errors
- Update both old and new versions of nodes when making changes
- Test backward compatibility with existing workflows before releasing changes

## Testing Instructions
- **ALWAYS provide clear step-by-step testing instructions after code changes**
- Format: "–ß—Ç–æ –±–µ—Ä–µ–º ‚Üí –ß—Ç–æ –ø–æ–¥–∫–ª—é—á–∞–µ–º ‚Üí –ö—É–¥–∞ –Ω–∞–∂–∏–º–∞–µ–º ‚Üí –ß—Ç–æ –æ–∂–∏–¥–∞–µ–º"
- Include specific node names, input/output connections, and expected results
- Document any known issues or limitations
- Keep instructions concise and actionable

---

# ü§ñ Agent Responsibilities

## GitHub MCP
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Issues
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pull Requests
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫ Issues
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∞–º–∏ –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏

## ComfyUI MCP
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ComfyUI canvas
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤
- –û—Ç–ª–∞–¥–∫–∞ workflow
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

## Logging
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—É—Ç–µ–π
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏: `[ArenaAutoCache]`, `[ComponentName]`
- –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∫ Issues –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ

## Research
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ GitHub Issues —Å –º–µ—Ç–∫–æ–π `research`
- –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö Issues –≤–µ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –ü—Ä–æ–±–ª–µ–º–∞ ‚Üí –ü–æ–ø—ã—Ç–∫–∏ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –°—Ç–∞—Ç—É—Å—ã: ‚úÖ –£—Å–ø–µ—à–Ω–æ, ‚ùå –ù–µ—É–¥–∞—á–Ω–æ, üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ, ‚è∏ –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞

## Agent Structure
Each agent should include:
1. **Description** ‚Äì A concise summary of what the agent does and why it exists
2. **Inputs & Outputs** ‚Äì Define the expected inputs and outputs clearly (JSON schema for Codex tasks or socket types for ComfyUI)
3. **Setup** ‚Äì Instructions on how to install dependencies and register the agent
4. **Configuration** ‚Äì Environment variables or parameters the agent supports
5. **Example** ‚Äì A minimal example showing how to invoke the agent

## Best Practices
- Follow the global rules: All agents must comply with the constraints above
- Type safety: Use explicit types and validations for all inputs/outputs
- Modularity: Keep agents self-contained. Shared logic should live in a common library
- Testing: Provide unit tests or integration tests under `tests/` to verify the agent's behaviour
- Documentation: Update `README.md` or the `docs/` folder with a high-level overview of new agents

## ComfyUI Custom Nodes
When implementing a custom node:
- Follow the official ComfyUI guidelines for structure, registration and dependencies
- Define your node class in `custom_nodes/` and register it via the `NODE_CLASS_MAPPINGS` dict
- List all required pip packages in a `requirements.txt` or specify `NODE_REQUIREMENTS` in the module
- Document node inputs and outputs with meaningful names and default values
- Avoid side effects; nodes should not write to disk or perform network calls outside of allowed APIs

---

This document is living ‚Äì feel free to propose improvements via pull requests.
