---
alwaysApply: false
---
# üõ† Project Rules (ComfyUI Node Development)

### Paths
- Install path: `C:\Users\acherednikov\AppData\Local\Programs\@comfyorg\comfyui-electron\`
- Working venv: `C:\ComfyUI\.venv\`
- Logs: `C:\Users\acherednikov\AppData\Roaming\ComfyUI\logs`

### MCP
- GitHub MCP ‚Äî –¥–ª—è PR, –¥–∏—Ñ—Ñ–æ–≤, changelog.
- ComfyUI MCP ‚Äî –¥–ª—è canvas, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–æ–¥, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### Nodes
- –ö–∞–∂–¥–∞—è –Ω–æ–¥–∞ –∏–º–µ–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/ru/nodes/<–∏–º—è>.md`.
- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: JSON –≤ `examples/` + —Å–∫—Ä–∏–Ω—à–æ—Ç.

### Logging
- info ‚Äî —É—Å–ø–µ—Ö.
- warning ‚Äî –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- error ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏.
- –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –ª–æ–≥–æ–≤ –∏ –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏—Ö –∫ Issue.

### Branches & Commits
- –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–æ–∫: `feat/<slug>`, `fix/<slug>`, `docs/<slug>`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Conventional Commits.

### Breaking changes
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö, –Ω–∞—Ä—É—à–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å `docs/ru/migration.md`.
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ SemVer.

### Workflow
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ PR.
- –ú–∞–ª–µ–Ω—å–∫–∏–µ, —Ñ–æ–∫—É—Å–Ω—ã–µ PR.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–≤—å—é.

### Experiments & Debugging
- –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ GitHub Issues —Å –º–µ—Ç–∫–æ–π `research`.
- –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö Issues –≤–µ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –ü—Ä–æ–±–ª–µ–º–∞ ‚Üí –ü–æ–ø—ã—Ç–∫–∏ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏.
- –°—Ç–∞—Ç—É—Å—ã: ‚úÖ –£—Å–ø–µ—à–Ω–æ, ‚ùå –ù–µ—É–¥–∞—á–Ω–æ, üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ, ‚è∏ –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞.

### ComfyUI Desktop Limitations
- –ê–∫—Ç–∏–≤–Ω—ã–π canvas workflow –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ API, –∂–∏–≤—ë—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.
- Canvas –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ JavaScript: `window.app.graph.serialize()`.
- –û—á–µ—Ä–µ–¥—å –∏ history –∑–Ω–∞—é—Ç —Ç–æ–ª—å–∫–æ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö workflow.
- –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ canvas –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (JS-–¥–æ—Å—Ç—É–ø –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è).

### ArenaAutoCache Strategy
- –†–∞–±–æ—á–∏–π –ø—É—Ç—å: –∑–∞–ø—É—Å–∫ workflow ‚Üí –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ‚Üí –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏–∑ –∫–µ—à–∞.
- ArenaAutoCacheSmart —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–≤—ã–ø–æ–ª–Ω—è—é—â–∏–º–∏—Å—è** workflow, –∞ –Ω–µ —Å canvas.
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –º–æ–¥–µ–ª–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ SSD-–∫–µ—à.
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Ç–æ–≥–æ –∂–µ workflow –º–æ–¥–µ–ª–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–µ—à–∞.

### Node Development
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `ARENA_NODES_VERSION = "v2.1"`.
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞: –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —É–∑–ª—ã –ø–æ–¥ —Å—Ç–∞—Ä—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.
- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: `[ArenaAutoCache] –°–æ–æ–±—â–µ–Ω–∏–µ`.
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —É–∑–ª–æ–≤ ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —Å—Ç–∞—Ä—ã–µ, –∏ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏.

### Code Quality
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `read_lints` –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
- –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –æ—Ç—Ä–∞–∂–∞—Ç—å –≤ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö Issues.
