---
type: Always
name: Process & Docs-First
description: Строгий процесс разработки под ComfyUI: docs → code → review.
---

## Общение
- Задачи формулировать простыми словами на русском.
- Код и комментарии в коде — на английском.
- Документацию вести на русском (основная), при необходимости — на английском.

## Правила и документация
- Все изменения отражать в /docs (changelog, tasktracker, project).
- Историю изменений хранить в git; не удалять правила.
- При изменении процесса — обновлять правила.

## Рабочий процесс
- Одна задача = один чат = один Issue в GitHub.
- После постановки задачи — сразу заводим Issue.
- Перед началом каждого шага — запрос подтверждения.
- После шага — краткое резюме ≤ 5 пунктов и, при неоднозначности, 2–3 альтернативы.
- Периодически напоминать о статусе и оставшихся шагах.

## Качество
- Придерживаться SOLID, KISS, DRY.
- Не оставлять неиспользуемый код и комментарии.
- Единый стиль: Ruff + Ruff format, Mypy (strict-ish), Pre-commit hooks.

## Code Review (обязательный чек-лист)
- [ ] Обновлены /docs до и после изменений.
- [ ] Полные type hints и docstrings.
- [ ] Валидация входов, обработка ошибок.
- [ ] Ruff/Mypy/Pre-commit зелёные.
- [ ] Тесты покрывают happy/edge.
- [ ] Нет мёртвого кода/дубликатов.

## Документация: форматы

### /docs/changelog.md:
```markdown
## [YYYY-MM-DD] - Краткое описание изменений

### Добавлено
* ...

### Изменено
* ...

### Исправлено
* ...
```

### /docs/tasktracker.md:
```markdown
## Задача: [Название задачи]

* **Статус**: [Не начата/В процессе/Завершена]
* **Описание**: [Детальное описание]
* **Шаги выполнения**:
  * [x] Завершенный шаг
  * [ ] Текущий шаг
  * [ ] Запланированный шаг
* **Зависимости**: [...]
```